<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen A</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="welcome-container">
        <h1>Screen A</h1>

        <!-- Buttons -->
        <div class="button-row">
            <a href="page1.html"><button>Return</button></a>
            <button onclick="addRow()">Add Row</button>
            <button onclick="deleteRow()">Delete Last Row</button>
            <button onclick="clearTable()">Clear Table</button>
        </div>

        <!-- Table -->
        <table id="myTable" border="1" style="margin-top:20px;width:60%;text-align:center;">
    <tr>
        <th>Metal</th>
        <th>New sheets</th>
        <th>Used sheets</th>
    </tr>
</table>

    </div>

  <script>

/* =========================
   LOAD CSV INTO TABLE
========================= */

fetch("Newsheets.csv")
  .then(response => response.text())
  .then(csv => {

    const rows = csv.trim().split("\n").map(r => r.split(","));
    const table = document.getElementById("myTable");

    // Remove existing rows except header
    while (table.rows.length > 1) {
      table.deleteRow(1);
    }

    // Skip header row
    rows.slice(1).forEach(r => {
      const tr = table.insertRow(-1);

      tr.insertCell(0).textContent = r[0];
      tr.insertCell(1).textContent = r[1];
      tr.insertCell(2).textContent = r[2];
    });

  })
  .catch(err => console.error("CSV load error:", err));


/* =========================
   BUTTON FUNCTIONS
========================= */

function addRow() {
  const table = document.getElementById("myTable");
  const row = table.insertRow(-1);

  row.insertCell(0).textContent = "new metal";
  row.insertCell(1).textContent = "0";
  row.insertCell(2).textContent = "0";
}

function deleteRow() {
  const table = document.getElementById("myTable");
  if (table.rows.length > 1) {
    table.deleteRow(-1);
  }
}

function clearTable() {
  const table = document.getElementById("myTable");
  while (table.rows.length > 1) {
    table.deleteRow(1);
  }
}

</script>

</body>
</html>
